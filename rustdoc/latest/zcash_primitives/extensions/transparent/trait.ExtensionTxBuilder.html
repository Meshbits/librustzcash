<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An interface for transaction builders which support addition of TZE inputs and outputs."><meta name="keywords" content="rust, rustlang, rust-lang, ExtensionTxBuilder"><title>ExtensionTxBuilder in zcash_primitives::extensions::transparent - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-73bd0883af174920.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../../../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../../../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-bc1b32400f872ddb.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../zcash_primitives/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../zcash_primitives/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ExtensionTxBuilder</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.BuildCtx">BuildCtx</a></li><li><a href="#associatedtype.BuildError">BuildError</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.add_tze_input">add_tze_input</a></li><li><a href="#tymethod.add_tze_output">add_tze_output</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In zcash_primitives::extensions::transparent</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../../index.html">zcash_primitives</a>::<wbr><a href="../index.html">extensions</a>::<wbr><a href="index.html">transparent</a>::<wbr><a class="trait" href="#">ExtensionTxBuilder</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../src/zcash_primitives/extensions/transparent.rs.html#183-213">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait ExtensionTxBuilder&lt;'a&gt; {
    type <a href="#associatedtype.BuildCtx" class="associatedtype">BuildCtx</a>;
    type <a href="#associatedtype.BuildError" class="associatedtype">BuildError</a>;

    fn <a href="#tymethod.add_tze_input" class="fn">add_tze_input</a>&lt;WBuilder, W:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prevout: (<a class="struct" href="../../transaction/components/tze/struct.OutPoint.html" title="struct zcash_primitives::transaction::components::tze::OutPoint">OutPoint</a>, <a class="struct" href="../../transaction/components/tze/struct.TzeOut.html" title="struct zcash_primitives::transaction::components::tze::TzeOut">TzeOut</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;witness_builder: WBuilder<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WBuilder: 'a + <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildCtx" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildCtx">BuildCtx</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;W, Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.add_tze_output" class="fn">add_tze_output</a>&lt;Precondition:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="struct" href="../../transaction/components/amount/struct.Amount.html" title="struct zcash_primitives::transaction::components::amount::Amount">Amount</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guarded_by: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Precondition<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An interface for transaction builders which support addition of TZE inputs and outputs.</p>
<p>This extension trait is satisfied by <a href="../../transaction/builder/struct.Builder.html"><code>transaction::builder::Builder</code></a>. It provides a minimal
contract for interacting with the transaction builder, that extension library authors can use
to add extension-specific builder traits that may be used to interact with the transaction
builder. This may make it simpler for projects that include transaction-builder functionality
to integrate with third-party extensions without those extensions being coupled to a particular
transaction or builder representation.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.BuildCtx" class="method has-srclink"><a class="srclink rightside" href="../../../src/zcash_primitives/extensions/transparent.rs.html#184">source</a><h4 class="code-header">type <a href="#associatedtype.BuildCtx" class="associatedtype">BuildCtx</a></h4></section><section id="associatedtype.BuildError" class="method has-srclink"><a class="srclink rightside" href="../../../src/zcash_primitives/extensions/transparent.rs.html#185">source</a><h4 class="code-header">type <a href="#associatedtype.BuildError" class="associatedtype">BuildError</a></h4></section></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.add_tze_input" class="method has-srclink"><a class="srclink rightside" href="../../../src/zcash_primitives/extensions/transparent.rs.html#195-203">source</a><h4 class="code-header">fn <a href="#tymethod.add_tze_input" class="fn">add_tze_input</a>&lt;WBuilder, W:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;mode: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;prevout: (<a class="struct" href="../../transaction/components/tze/struct.OutPoint.html" title="struct zcash_primitives::transaction::components::tze::OutPoint">OutPoint</a>, <a class="struct" href="../../transaction/components/tze/struct.TzeOut.html" title="struct zcash_primitives::transaction::components::tze::TzeOut">TzeOut</a>),<br>&nbsp;&nbsp;&nbsp;&nbsp;witness_builder: WBuilder<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;WBuilder: 'a + <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildCtx" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildCtx">BuildCtx</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;W, Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;,</span></h4></section></summary><div class="docblock"><p>Adds a TZE input to the transaction by providing a witness to a precondition identified by a
prior outpoint.</p>
<p>The <code>witness_builder</code> function allows the transaction builder to provide extra contextual
information from the transaction under construction to be used in the production of this
witness (for example, so that the witness may internally make commitments based upon this
information.) For the standard transaction builder, the value provided here is the
transaction under construction.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.add_tze_output" class="method has-srclink"><a class="srclink rightside" href="../../../src/zcash_primitives/extensions/transparent.rs.html#207-212">source</a><h4 class="code-header">fn <a href="#tymethod.add_tze_output" class="fn">add_tze_output</a>&lt;Precondition:&nbsp;<a class="trait" href="trait.ToPayload.html" title="trait zcash_primitives::extensions::transparent::ToPayload">ToPayload</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;extension_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;value: <a class="struct" href="../../transaction/components/amount/struct.Amount.html" title="struct zcash_primitives::transaction::components::amount::Amount">Amount</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;guarded_by: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Precondition<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.ExtensionTxBuilder.html#associatedtype.BuildError" title="type zcash_primitives::extensions::transparent::ExtensionTxBuilder::BuildError">BuildError</a>&gt;</h4></section></summary><div class="docblock"><p>Adds a TZE precondition to the transaction which must be satisfied by a future transaction’s
witness in order to spend the specified <code>amount</code>.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ExtensionTxBuilder%3C%27a%3E-for-Builder%3C%27a%2C%20P%2C%20R%3E" class="impl has-srclink"><a class="srclink rightside" href="../../../src/zcash_primitives/transaction/builder.rs.html#481-511">source</a><a href="#impl-ExtensionTxBuilder%3C%27a%3E-for-Builder%3C%27a%2C%20P%2C%20R%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, P:&nbsp;<a class="trait" href="../../consensus/trait.Parameters.html" title="trait zcash_primitives::consensus::Parameters">Parameters</a>, R:&nbsp;<a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt; <a class="trait" href="trait.ExtensionTxBuilder.html" title="trait zcash_primitives::extensions::transparent::ExtensionTxBuilder">ExtensionTxBuilder</a>&lt;'a&gt; for <a class="struct" href="../../transaction/builder/struct.Builder.html" title="struct zcash_primitives::transaction::builder::Builder">Builder</a>&lt;'a, P, R&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.BuildCtx-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.BuildCtx-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.BuildCtx" class="associatedtype">BuildCtx</a> = <a class="struct" href="../../transaction/struct.TransactionData.html" title="struct zcash_primitives::transaction::TransactionData">TransactionData</a>&lt;<a class="struct" href="../../transaction/struct.Unauthorized.html" title="struct zcash_primitives::transaction::Unauthorized">Unauthorized</a>&gt;</h4></section><section id="associatedtype.BuildError-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.BuildError-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.BuildError" class="associatedtype">BuildError</a> = <a class="enum" href="../../transaction/components/tze/builder/enum.Error.html" title="enum zcash_primitives::transaction::components::tze::builder::Error">Error</a></h4></section></div></details></div><script src="../../../implementors/zcash_primitives/extensions/transparent/trait.ExtensionTxBuilder.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="zcash_primitives" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (388538fc9 2023-01-05)" data-search-js="search-181581080540673f.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-58836c674e2f7bd2.css" ></div></body></html>