<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait that represents the ability to compute the suggested change and fees that must be paid by a transaction having a specified set of inputs and outputs."><meta name="keywords" content="rust, rustlang, rust-lang, ChangeStrategy"><title>ChangeStrategy in zcash_client_backend::fees - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-73bd0883af174920.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-bc1b32400f872ddb.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../zcash_client_backend/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../zcash_client_backend/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ChangeStrategy</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Error">Error</a></li><li><a href="#associatedtype.FeeRule">FeeRule</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.compute_balance">compute_balance</a></li><li><a href="#tymethod.fee_rule">fee_rule</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In zcash_client_backend::fees</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../index.html">zcash_client_backend</a>::<wbr><a href="index.html">fees</a>::<wbr><a class="trait" href="#">ChangeStrategy</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/zcash_client_backend/fees.rs.html#186-212">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait ChangeStrategy {
    type <a href="#associatedtype.FeeRule" class="associatedtype">FeeRule</a>: FeeRule;
    type <a href="#associatedtype.Error" class="associatedtype">Error</a>;

    fn <a href="#tymethod.fee_rule" class="fn">fee_rule</a>(&amp;self) -&gt; &amp;Self::<a class="associatedtype" href="trait.ChangeStrategy.html#associatedtype.FeeRule" title="type zcash_client_backend::fees::ChangeStrategy::FeeRule">FeeRule</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.compute_balance" class="fn">compute_balance</a>&lt;P:&nbsp;Parameters, NoteRefT:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>P,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_height: BlockHeight,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transparent_inputs: &amp;[impl InputView],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transparent_outputs: &amp;[impl OutputView],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sapling_inputs: &amp;[impl InputView&lt;NoteRefT&gt;],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sapling_outputs: &amp;[impl OutputView],<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dust_output_policy: &amp;<a class="struct" href="struct.DustOutputPolicy.html" title="struct zcash_client_backend::fees::DustOutputPolicy">DustOutputPolicy</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.TransactionBalance.html" title="struct zcash_client_backend::fees::TransactionBalance">TransactionBalance</a>, <a class="enum" href="enum.ChangeError.html" title="enum zcash_client_backend::fees::ChangeError">ChangeError</a>&lt;Self::<a class="associatedtype" href="trait.ChangeStrategy.html#associatedtype.Error" title="type zcash_client_backend::fees::ChangeStrategy::Error">Error</a>, NoteRefT&gt;&gt;;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait that represents the ability to compute the suggested change and fees that must be paid
by a transaction having a specified set of inputs and outputs.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><section id="associatedtype.FeeRule" class="method has-srclink"><a class="srclink rightside" href="../../src/zcash_client_backend/fees.rs.html#187">source</a><h4 class="code-header">type <a href="#associatedtype.FeeRule" class="associatedtype">FeeRule</a>: FeeRule</h4></section><section id="associatedtype.Error" class="method has-srclink"><a class="srclink rightside" href="../../src/zcash_client_backend/fees.rs.html#188">source</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a></h4></section></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.fee_rule" class="method has-srclink"><a class="srclink rightside" href="../../src/zcash_client_backend/fees.rs.html#192">source</a><h4 class="code-header">fn <a href="#tymethod.fee_rule" class="fn">fee_rule</a>(&amp;self) -&gt; &amp;Self::<a class="associatedtype" href="trait.ChangeStrategy.html#associatedtype.FeeRule" title="type zcash_client_backend::fees::ChangeStrategy::FeeRule">FeeRule</a></h4></section></summary><div class="docblock"><p>Returns the fee rule that this change strategy will respect when performing
balance computations.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.compute_balance" class="method has-srclink"><a class="srclink rightside" href="../../src/zcash_client_backend/fees.rs.html#202-211">source</a><h4 class="code-header">fn <a href="#tymethod.compute_balance" class="fn">compute_balance</a>&lt;P:&nbsp;Parameters, NoteRefT:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;params: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>P,<br>&nbsp;&nbsp;&nbsp;&nbsp;target_height: BlockHeight,<br>&nbsp;&nbsp;&nbsp;&nbsp;transparent_inputs: &amp;[impl InputView],<br>&nbsp;&nbsp;&nbsp;&nbsp;transparent_outputs: &amp;[impl OutputView],<br>&nbsp;&nbsp;&nbsp;&nbsp;sapling_inputs: &amp;[impl InputView&lt;NoteRefT&gt;],<br>&nbsp;&nbsp;&nbsp;&nbsp;sapling_outputs: &amp;[impl OutputView],<br>&nbsp;&nbsp;&nbsp;&nbsp;dust_output_policy: &amp;<a class="struct" href="struct.DustOutputPolicy.html" title="struct zcash_client_backend::fees::DustOutputPolicy">DustOutputPolicy</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.TransactionBalance.html" title="struct zcash_client_backend::fees::TransactionBalance">TransactionBalance</a>, <a class="enum" href="enum.ChangeError.html" title="enum zcash_client_backend::fees::ChangeError">ChangeError</a>&lt;Self::<a class="associatedtype" href="trait.ChangeStrategy.html#associatedtype.Error" title="type zcash_client_backend::fees::ChangeStrategy::Error">Error</a>, NoteRefT&gt;&gt;</h4></section></summary><div class="docblock"><p>Computes the totals of inputs, suggested change amounts, and fees given the
provided inputs and outputs being used to construct a transaction.</p>
<p>The fee computed as part of this operation should take into account the prospective
change outputs recommended by this operation. If insufficient funds are available to
supply the requested outputs and required fees, implementations should return
<a href="enum.ChangeError.html#variant.InsufficientFunds" title="ChangeError::InsufficientFunds"><code>ChangeError::InsufficientFunds</code></a>.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ChangeStrategy-for-SingleOutputChangeStrategy" class="impl has-srclink"><a class="srclink rightside" href="../../src/zcash_client_backend/fees/fixed.rs.html#33-153">source</a><a href="#impl-ChangeStrategy-for-SingleOutputChangeStrategy" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ChangeStrategy.html" title="trait zcash_client_backend::fees::ChangeStrategy">ChangeStrategy</a> for zcash_client_backend::fees::fixed::<a class="struct" href="fixed/struct.SingleOutputChangeStrategy.html" title="struct zcash_client_backend::fees::fixed::SingleOutputChangeStrategy">SingleOutputChangeStrategy</a></h3></section></summary><div class="impl-items"><section id="associatedtype.FeeRule-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.FeeRule-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.FeeRule" class="associatedtype">FeeRule</a> = FeeRule</h4></section><section id="associatedtype.Error-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a> = BalanceError</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ChangeStrategy-for-SingleOutputChangeStrategy-1" class="impl has-srclink"><a class="srclink rightside" href="../../src/zcash_client_backend/fees/zip317.rs.html#41-218">source</a><a href="#impl-ChangeStrategy-for-SingleOutputChangeStrategy-1" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ChangeStrategy.html" title="trait zcash_client_backend::fees::ChangeStrategy">ChangeStrategy</a> for zcash_client_backend::fees::zip317::<a class="struct" href="zip317/struct.SingleOutputChangeStrategy.html" title="struct zcash_client_backend::fees::zip317::SingleOutputChangeStrategy">SingleOutputChangeStrategy</a></h3></section></summary><div class="impl-items"><section id="associatedtype.FeeRule-2" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.FeeRule-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.FeeRule" class="associatedtype">FeeRule</a> = FeeRule</h4></section><section id="associatedtype.Error-2" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a> = FeeError</h4></section></div></details></div><script src="../../implementors/zcash_client_backend/fees/trait.ChangeStrategy.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="zcash_client_backend" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (388538fc9 2023-01-05)" data-search-js="search-181581080540673f.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-58836c674e2f7bd2.css" ></div></body></html>