<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Constructs a transaction that consumes available transparent UTXOs belonging to the specified secret key, and sends them to the default address for the provided Sapling extended full viewing key."><meta name="keywords" content="rust, rustlang, rust-lang, shield_transparent_funds"><title>shield_transparent_funds in zcash_client_backend::data_api::wallet - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-73bd0883af174920.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../../../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../../../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-bc1b32400f872ddb.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../zcash_client_backend/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../zcash_client_backend/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In zcash_client_backend::data_api::wallet</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Function <a href="../../index.html">zcash_client_backend</a>::<wbr><a href="../index.html">data_api</a>::<wbr><a href="index.html">wallet</a>::<wbr><a class="fn" href="#">shield_transparent_funds</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../src/zcash_client_backend/data_api/wallet.rs.html#469-595">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust fn"><code>pub fn shield_transparent_funds&lt;DbT, ParamsT, InputsT&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;wallet_db: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>DbT,<br>&nbsp;&nbsp;&nbsp;&nbsp;params: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>ParamsT,<br>&nbsp;&nbsp;&nbsp;&nbsp;prover: impl SaplingProver,<br>&nbsp;&nbsp;&nbsp;&nbsp;input_selector: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>InputsT,<br>&nbsp;&nbsp;&nbsp;&nbsp;shielding_threshold: NonNegativeAmount,<br>&nbsp;&nbsp;&nbsp;&nbsp;usk: &amp;UnifiedSpendingKey,<br>&nbsp;&nbsp;&nbsp;&nbsp;from_addrs: &amp;[TransparentAddress],<br>&nbsp;&nbsp;&nbsp;&nbsp;memo: &amp;MemoBytes,<br>&nbsp;&nbsp;&nbsp;&nbsp;min_confirmations: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;DbT::<a class="associatedtype" href="../trait.WalletRead.html#associatedtype.TxRef" title="type zcash_client_backend::data_api::WalletRead::TxRef">TxRef</a>, <a class="enum" href="../error/enum.Error.html" title="enum zcash_client_backend::data_api::error::Error">Error</a>&lt;DbT::<a class="associatedtype" href="../trait.WalletRead.html#associatedtype.Error" title="type zcash_client_backend::data_api::WalletRead::Error">Error</a>, InputsT::<a class="associatedtype" href="input_selection/trait.InputSelector.html#associatedtype.Error" title="type zcash_client_backend::data_api::wallet::input_selection::InputSelector::Error">Error</a>, &lt;InputsT::<a class="associatedtype" href="input_selection/trait.InputSelector.html#associatedtype.FeeRule" title="type zcash_client_backend::data_api::wallet::input_selection::InputSelector::FeeRule">FeeRule</a> as FeeRule&gt;::Error, DbT::<a class="associatedtype" href="../trait.WalletRead.html#associatedtype.NoteRef" title="type zcash_client_backend::data_api::WalletRead::NoteRef">NoteRef</a>&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;ParamsT: Parameters,<br>&nbsp;&nbsp;&nbsp;&nbsp;DbT: <a class="trait" href="../trait.WalletWrite.html" title="trait zcash_client_backend::data_api::WalletWrite">WalletWrite</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;DbT::<a class="associatedtype" href="../trait.WalletRead.html#associatedtype.NoteRef" title="type zcash_client_backend::data_api::WalletRead::NoteRef">NoteRef</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;InputsT: <a class="trait" href="input_selection/trait.InputSelector.html" title="trait zcash_client_backend::data_api::wallet::input_selection::InputSelector">InputSelector</a>&lt;DataSource = DbT&gt;,</span></code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Constructs a transaction that consumes available transparent UTXOs belonging to
the specified secret key, and sends them to the default address for the provided Sapling
extended full viewing key.</p>
<p>This procedure will not attempt to shield transparent funds if the total amount being shielded
is less than the default fee to send the transaction. Fees will be paid only from the transparent
UTXOs being consumed.</p>
<p>Parameters:</p>
<ul>
<li><code>wallet_db</code>: A read/write reference to the wallet database</li>
<li><code>params</code>: Consensus parameters</li>
<li><code>prover</code>: The <a href="zcash_primitives::sapling::prover::TxProver"><code>sapling::TxProver</code></a> to use in constructing the shielded transaction.</li>
<li><code>input_selector</code>: The <a href="input_selection/trait.InputSelector.html" title="InputSelector"><code>InputSelector</code></a> to for note selection and change and fee
determination</li>
<li><code>usk</code>: The unified spending key that will be used to detect and spend transparent UTXOs,
and that will provide the shielded address to which funds will be sent. Funds will be
shielded to the internal (change) address associated with the most preferred shielded
receiver corresponding to this account, or if no shielded receiver can be used for this
account, this function will return an error. This procedure will return an error if the
USK does not correspond to an account known to the wallet.</li>
<li><code>from_addrs</code>: The list of transparent addresses that will be used to filter transaparent
UTXOs received by the wallet. Only UTXOs received at one of the provided addresses will
be selected to be shielded.</li>
<li><code>memo</code>: A memo to be included in the output to the (internal) recipient.
This can be used to take notes about auto-shielding operations internal
to the wallet that the wallet can use to improve how it represents those
shielding transactions to the user.</li>
<li><code>min_confirmations</code>: The minimum number of confirmations that a previously
received UTXO must have in the blockchain in order to be considered for being
spent.</li>
</ul>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="zcash_client_backend" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (388538fc9 2023-01-05)" data-search-js="search-181581080540673f.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-58836c674e2f7bd2.css" ></div></body></html>